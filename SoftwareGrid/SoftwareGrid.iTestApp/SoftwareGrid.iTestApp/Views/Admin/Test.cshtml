@{
    ViewBag.Title = "Test Setup";
    Layout = "~/Views/Shared/admin/_LayoutAdmin.cshtml";
}

<style type="text/css">
    .bootstrap-tagsinput {
        display: block;
    }
</style>

<script type="text/vash" id="tmpQuestion">
    <table class="table table-striped table-bordered table-hover" id="tblQuestion">
        <thead>
            <tr>
                <td>Action</td>
                <td class="collapse">Question No</td>
                <td>Question Category</td>
                <td>Question</td>
                <td>Tag</td>
                <td>Answer Option</td>
                <td>Multiple Answer</td>
                <td>Marks</td>
            </tr>
        </thead>
        <tbody>
            @@model.data.forEach(function(v){
            <tr>
                <td>
                    @@if(v.TestId != null){
                    <input class="selectQuestion"  type="checkbox" data-questionid="@@v.QuestionId" checked />
                    }else{
                    <input class="selectQuestion" type="checkbox" data-questionid="@@v.QuestionId" />
                    }
                </td>
                <td class="collapse">@@v.QuestionId</td>
                <td>@@v.QuestionCategoryName</td>
                <td>@@v.QuestionText</td>
                <td>@@html.ShowTag(v.Tags)</td>
                <td>@@v.NoOfAnswerOption</td>
                <td>
                    @@if(v.IsMultipleAnswer ==0){
                    <span class="badge badge-danger">No</span>
                    }else{
                    <span class="badge badge-success">Yes</span>
                    }
                </td>
                <td>@@v.Marks</td>
            </tr>
            })
        </tbody>
    </table>
</script>


<div class="row">
    <div class="col-md-12">
        <div class="portlet portlet-sortable box green ">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-edit"></i> Test Category Setup
                </div>
                <div class="tools">
                    <a href="#" class="collapse"> </a>
                </div>
            </div>
            <div class="portlet-body">
                <form action="javascript:;" id="frmTestSetup">
                    <div class="row">
                        <div class="col-md-6">

                            <div class="form-group collapse">
                                <label for="TestId">Test Id</label>
                                <input type="text" id="TestId" name="TestId" class="form-control" placeholder="Test Id" value="@TempData["TestId"]" />
                            </div>

                            <div class="form-group">
                                <label for="TestCategoryId">Test Type <span class="required">*</span></label>
                                @*<input type="text" class="form-control" id="TestCategoryId" name="TestCategoryId"/>*@
                                <select class="form-control select2-allow-clear" id="TestCategoryId" name="TestCategoryId">
                                    <option></option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="TestName">Test Name <span class="required">*</span></label>
                                <input type="text" id="TestName" name="TestName" class="form-control" placeholder="Test Name" maxlength="60" />
                            </div>

                            <div class="form-group">
                                <label for="TestIconName">Upload Test Icon</label>
                                <input type="file" id="TestIconName" name="TestIconName" class="form-control" placeholder="Test Name" maxlength="60" />
                            </div>

                            <div class="form-group">
                                <img id="TestIconPath" src="#" alt="" style="display: none; height: 100px; width: 100px;" />
                            </div>

                            <div class="form-group">
                                <input type="text" id="testIcon" name="testIcon" style="display: none;"/>
                            </div>

                            <div class="form-group">
                                <label for="Tags" class="control-label">Tags</label>
                                <input type="text" id="Tags" name="Tags" class="form-control" placeholder="eg: C#, SQL, Java, Html" />
                                <span class="help-block-input-note">Note : Please press enter to separate tags.</span>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="NoOfQuestion">No. Of Question <span class="required">*</span></label>
                                        <input type="text" id="NoOfQuestion" name="NoOfQuestion" class="form-control" placeholder="No Of Question" maxlength="3" onkeypress="return RB.integerInput(event,this)" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="TestOrder">Test Order</label>
                                        <input type="text" id="TestOrder" name="TestOrder" class="form-control" placeholder="Test Order" maxlength="3" onkeypress="return RB.integerInput(event,this)" />
                                    </div>

                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="Price">Test Price</label>
                                        <input type="text" id="Price" name="Price" class="form-control" placeholder="Test Price" maxlength="8" onkeypress="return RB.decimalInput(event, this)" />
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="Discount">Discount</label>
                                        <input type="text" id="Discount" name="Discount" class="form-control" placeholder="Discount" maxlength="8" onkeypress="return RB.decimalInput(event, this)" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="Duration">Test Duration (In Minute) <span class="required">*</span></label>
                                        <input type="text" id="Duration" name="Duration" class="form-control" placeholder="Test Duration" maxlength="3" onkeypress="return RB.integerInput(event, this)" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group ">
                                        <label for="IsSingleOrder" style="margin-top:30px">
                                            <input type="checkbox" id="IsSingleOrder" name="IsSingleOrder">
                                            Is Single Order ?
                                        </label>
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="ValidedFor">Valid For(In Hour)</label>
                                        <input type="text" id="ValidedFor" name="ValidedFor" class="form-control" placeholder="ValidFor" maxlength="8" onkeypress="return RB.integerInput(event, this)" />
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-md-6">
                            <div class="form-group ">
                                <label for="About">About</label>
                                <textarea rows="8" class="form-control" id="About" name="About" placeholder="About"></textarea>
                            </div>

                            <div class="form-group ">
                                <label for="TestTopic">Test Topic</label>
                                <textarea rows="8" class="form-control" id="TestTopic" name="TestTopic" placeholder="Test Topic"></textarea>
                            </div>

                            <div class="form-group ">
                                <label for="TestDetails">Test Details</label>
                                <textarea rows="8" class="form-control" id="TestDetails" name="TestDetails" placeholder="Test Details"></textarea>
                            </div>

                            <div class="row">
                                <div class="col-md-4 collapse">
                                    <div class="form-group ">
                                        <label for="IsActive">Is Atcive ?</label>
                                        <input type="checkbox" id="IsActive" name="IsActive" class="form-control" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group collapse">
                                        <label for="IsPublished">Is Published ?</label>
                                        <input type="checkbox" id="IsPublished" name="IsPublished" class="form-control" />
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="portlet portlet-sortable box green ">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="fa fa-list"></i> Question List (<span id="TotalCount"></span>)
                                    </div>
                                    <div class="tools">
                                        <a href="#" class="collapse"> </a>
                                    </div>
                                </div>
                                <div class="portlet-body">
                                    <div class="form-inline margin-bottom-10">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <select id="ShowPerPageItem" class="form-control">
                                                        <option value="10">10</option>
                                                        <option value="20">20</option>
                                                        <option value="50">50</option>
                                                        <option value="100">100</option>
                                                        <option value="200">200</option>
                                                    </select>
                                                    <span>records per page</span>

                                                </div>
                                            </div>

                                            <div class="col-md-6" style="float: right">
                                                <div class="form-group" style="float: right">
                                                    <div class="input-group">
                                                        <input type="text" id="Keyword" name="Keyword" class="form-control" placeholder="Keyword" />
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-success" id="BtnSearchQuestion" name="BtnSearchQuestion" type="button"> Search</button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-responsive" id="div-question"></div>
                                    <div class="paging-content"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                   

                    <div class="clearfix"></div>
                    <button type="submit" id="BtnSave" class="btn btn-primary"><i class="fa fa-save"></i> Save</button>
                    <button type="button" class="btn btn-info" id="BtnClear"><i class="fa fa-refresh"></i> Clear</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="~/assets/admin/pages/otherscripts/TestSetup.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        TestSetup.init();
    });
</script>
